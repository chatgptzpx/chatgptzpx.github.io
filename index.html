

                function copyToClipboard(text) {
                    // Modern Clipboard API
                    if (navigator.clipboard && window.isSecureContext) {
                        return navigator.clipboard.writeText(text)
                            .then(() => showToast())
                            .catch(err => {
                                console.error('Failed to copy text: ', err);
                                showToast('Failed to copy');
                            });
                    }


                    // Fallback for older browsers
                    try {
                        const tempInput = document.createElement('textarea');
                        tempInput.value = text;
                        tempInput.style.position = 'absolute';
                        tempInput.style.left = '-9999px';
                        tempInput.style.top = '0';
                        tempInput.setAttribute('readonly', '');
                        
                        document.body.appendChild(tempInput);
                        tempInput.select();
                        tempInput.setSelectionRange(0, 99999);
                        
                        const successful = document.execCommand('copy');
                        document.body.removeChild(tempInput);
                        
                        if (successful) {
                            showToast();
                        } else {
                            showToast('Failed to copy');
                        }
                    } catch (err) {
                        console.error('Fallback copy failed: ', err);
                        showToast('Copy not supported');
                    }
                }


                copyBtn.addEventListener('click', () => {
                    const textToCopy = copyBtn.getAttribute('data-copy');
                    if (textToCopy) {
                        copyToClipboard(textToCopy);
                    }
                });


                // Keyboard support
                copyBtn.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        copyBtn.click();
                    }
                });
            }


            function initThemeToggle() {
                const themeToggle = document.getElementById('theme-toggle');
                if (!themeToggle) return;


                themeToggle.addEventListener('click', () => {
                    // Simple theme toggle effect
                    document.body.style.filter = document.body.style.filter === 'invert(1) hue-rotate(180deg)' 
                        ? '' 
                        : 'invert(1) hue-rotate(180deg)';
                    
                    // Update button icon
                    const icon = themeToggle.querySelector('svg');
                    if (icon) {
                        icon.style.transform = icon.style.transform === 'rotate(180deg)' 
                            ? '' 
                            : 'rotate(180deg)';
                    }
                });
            }


            // Initialize fade-in animation for elements
            function initFadeInAnimations() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('fade-in');
                            observer.unobserve(entry.target);
                        }
                    });
                }, {
                    threshold: 0.1
                });


                document.querySelectorAll('.fade-in').forEach(el => {
                    if (!prefersReducedMotion) {
                        observer.observe(el);
                    } else {
                        el.classList.add('fade-in');
                    }
                });
            }


            // Initialize when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initFadeInAnimations);
            } else {
                initFadeInAnimations();
            }


        })();
    </script>
</body>
</html>
